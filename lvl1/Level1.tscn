[gd_scene load_steps=29 format=2]

[ext_resource path="res://icon.png" type="Texture" id=1]
[ext_resource path="res://PlayerGreen.tscn" type="PackedScene" id=2]
[ext_resource path="res://PlayerBlue.tscn" type="PackedScene" id=3]
[ext_resource path="res://platforms_tileset.tres" type="TileSet" id=6]
[ext_resource path="res://lvl1/Block6.gd" type="Script" id=7]
[ext_resource path="res://lvl1/Block5.gd" type="Script" id=8]
[ext_resource path="res://CollisionDropper.gd" type="Script" id=9]
[ext_resource path="res://lvl1/spP3.gd" type="Script" id=10]
[ext_resource path="res://assets/lvl1/bg.png" type="Texture" id=11]
[ext_resource path="res://assets/lvl1/o-1.png" type="Texture" id=12]
[ext_resource path="res://assets/lvl1/p-2.png" type="Texture" id=13]
[ext_resource path="res://assets/lvl1/music.png" type="Texture" id=14]
[ext_resource path="res://assets/lvl1/p-1.png" type="Texture" id=15]
[ext_resource path="res://lvl1/spO.gd" type="Script" id=16]
[ext_resource path="res://assets/lvl1/o-2.png" type="Texture" id=17]
[ext_resource path="res://lvl1/spP2.gd" type="Script" id=18]
[ext_resource path="res://PlayerYellow.tscn" type="PackedScene" id=20]
[ext_resource path="res://lvl1/Level1.gd" type="Script" id=21]

[sub_resource type="SpriteFrames" id=1]
animations = [ {
"frames": [ ExtResource( 15 ), ExtResource( 13 ) ],
"loop": false,
"name": "default",
"speed": 5.0
} ]

[sub_resource type="SpriteFrames" id=2]
animations = [ {
"frames": [ ExtResource( 12 ), ExtResource( 17 ) ],
"loop": false,
"name": "default",
"speed": 5.0
} ]

[sub_resource type="SpriteFrames" id=3]
animations = [ {
"frames": [ ExtResource( 15 ), ExtResource( 13 ) ],
"loop": false,
"name": "default",
"speed": 5.0
} ]

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 30.8586, 30.4618 )

[sub_resource type="GDScript" id=5]
script/source = "extends Area2D


# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"


# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#	self.
"

[sub_resource type="CircleShape2D" id=6]
radius = 67.6276

[sub_resource type="RectangleShape2D" id=7]
extents = Vector2( 28.1132, 35.7196 )

[sub_resource type="RectangleShape2D" id=8]
extents = Vector2( 27.1434, 35.4421 )

[sub_resource type="RectangleShape2D" id=9]
extents = Vector2( 26.8517, 37.9172 )

[sub_resource type="RectangleShape2D" id=10]

[node name="Level1" type="Node2D"]
script = ExtResource( 21 )

[node name="BG" type="Sprite" parent="."]
position = Vector2( 531.486, 316.534 )
scale = Vector2( 121.602, 65.4293 )
texture = ExtResource( 11 )

[node name="spMusic" type="Sprite" parent="."]
position = Vector2( 818.275, 359.188 )
texture = ExtResource( 14 )

[node name="spP" type="AnimatedSprite" parent="."]
position = Vector2( 710.135, 248.28 )
frames = SubResource( 1 )
script = ExtResource( 10 )

[node name="spO" type="AnimatedSprite" parent="."]
position = Vector2( 819.364, 250.923 )
frames = SubResource( 2 )
script = ExtResource( 16 )

[node name="spP2" type="AnimatedSprite" parent="."]
position = Vector2( 931.685, 252.81 )
frames = SubResource( 3 )
script = ExtResource( 18 )

[node name="Block1" type="RigidBody2D" parent="."]
position = Vector2( 388.351, 412.126 )
rotation = -0.337066
gravity_scale = 11.56
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Block1"]
texture = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Block1"]
shape = SubResource( 4 )

[node name="Block2" type="RigidBody2D" parent="."]
position = Vector2( 401.043, 264.892 )
rotation = -0.0779545
gravity_scale = 11.56
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Block2"]
texture = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Block2"]
shape = SubResource( 4 )

[node name="Block3" type="RigidBody2D" parent="."]
position = Vector2( 340.325, 505.924 )
rotation = -0.830512
gravity_scale = 11.56
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Block3"]
texture = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Block3"]
shape = SubResource( 4 )

[node name="Block4" type="RigidBody2D" parent="."]
position = Vector2( 343.896, 64.2108 )
rotation = 0.603315
gravity_scale = 11.56
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Block4"]
texture = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Block4"]
shape = SubResource( 4 )

[node name="Block5" type="RigidBody2D" parent="."]
position = Vector2( 242.875, -211.915 )
rotation = 0.603315
gravity_scale = 11.56
sleeping = true
script = ExtResource( 8 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Block5"]
texture = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Block5"]
shape = SubResource( 4 )

[node name="Block6" type="RigidBody2D" parent="."]
position = Vector2( 188.996, -52.5252 )
rotation = 0.603315
gravity_scale = 11.56
sleeping = true
script = ExtResource( 7 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Block6"]
texture = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Block6"]
shape = SubResource( 4 )

[node name="PlayerRed" parent="." instance=ExtResource( 2 )]
position = Vector2( 179.051, 268.999 )

[node name="PlayerGreen" parent="." instance=ExtResource( 3 )]
position = Vector2( 158.774, 269.133 )

[node name="PlayerYellow" parent="." instance=ExtResource( 20 )]
position = Vector2( 137.608, 269.595 )

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource( 6 )
format = 1
tile_data = PoolIntArray( 65547, 3, 0, 65549, 3, 0, 65551, 3, 0, 131076, 3, 0, 131079, 1, 0, 131080, 0, 0, 131081, 0, 0, 131082, 2, 0, 196609, 3, 0, 327681, 3, 0, 327685, 3, 0, 393223, 3, 0, 458761, 1, 0, 458762, 0, 0, 458763, 0, 0, 458764, 2, 0, 589825, 1, 0, 589826, 0, 0, 589827, 0, 0, 589828, 0, 0, 589829, 0, 0, 589830, 0, 0, 589831, 0, 0, 589832, 2, 0 )

[node name="StartBoxDrop" type="Area2D" parent="."]
script = SubResource( 5 )

[node name="CollisionDropper" type="CollisionShape2D" parent="StartBoxDrop"]
position = Vector2( 265.165, 259.508 )
shape = SubResource( 6 )
script = ExtResource( 9 )

[node name="POP-Detector" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="POP-Detector"]
position = Vector2( 735.085, 34.2051 )
shape = SubResource( 7 )

[node name="POP-O-Detector" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="POP-O-Detector"]
position = Vector2( 865.138, 34.8194 )
shape = SubResource( 8 )

[node name="POP-P2-Detector" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="POP-P2-Detector"]
position = Vector2( 992.023, 36.1863 )
shape = SubResource( 9 )

[node name="Panel" type="Panel" parent="."]
margin_right = 200.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="RichTextLabel" type="RichTextLabel" parent="Panel"]
anchor_right = 1.0
margin_right = 40.0
margin_bottom = 555.0
meta_underlined = false
text = "Welcome to Tru-Puz!
It's a super cool game all about 3 squares who have to SAVE MUSIC! and do stuff like jump and die and fall off things and die and SAVE MUSIC
Player 1: ADW
Player 2: <>L
Player 3: arrow keys"
fit_content_height = true
scroll_active = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Bucket" type="Area2D" parent="."]
position = Vector2( 503.431, 746.157 )
scale = Vector2( 84.2213, 11.29 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bucket"]
shape = SubResource( 10 )
[connection signal="body_entered" from="StartBoxDrop" to="Block5" method="_on_StartBoxDrop_body_entered"]
[connection signal="body_entered" from="StartBoxDrop" to="Block6" method="_on_StartBoxDrop_body_entered"]
[connection signal="body_entered" from="POP-Detector" to="spP" method="_on_POPDetector_body_entered"]
[connection signal="body_entered" from="POP-Detector" to="." method="_on_POPDetector_body_entered"]
[connection signal="body_exited" from="POP-Detector" to="spP" method="_on_POPDetector_body_exited"]
[connection signal="body_exited" from="POP-Detector" to="." method="_on_POPDetector_body_exited"]
[connection signal="body_entered" from="POP-O-Detector" to="spO" method="_on_POPODetector_body_entered"]
[connection signal="body_entered" from="POP-O-Detector" to="." method="_on_POPODetector_body_entered"]
[connection signal="body_exited" from="POP-O-Detector" to="spO" method="_on_POPODetector_body_exited"]
[connection signal="body_exited" from="POP-O-Detector" to="." method="_on_POPODetector_body_exited"]
[connection signal="body_entered" from="POP-P2-Detector" to="spP2" method="_on_POPP2Detector_body_entered"]
[connection signal="body_entered" from="POP-P2-Detector" to="." method="_on_POPP2Detector_body_entered"]
[connection signal="body_exited" from="POP-P2-Detector" to="spP2" method="_on_POPP2Detector_body_exited"]
[connection signal="body_exited" from="POP-P2-Detector" to="." method="_on_POPP2Detector_body_exited"]
[connection signal="body_entered" from="Bucket" to="." method="_on_Bucket_body_entered"]
